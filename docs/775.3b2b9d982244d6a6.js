"use strict";(self.webpackChunkangular_material_template=self.webpackChunkangular_material_template||[]).push([[775],{775:(I,c,r)=>{r.r(c),r.d(c,{AccountModule:()=>b});var d=r(6895),m=r(9299),g=r(9093),e=r(4650),w=r(1481),a=r(1576),f=r(3546),p=r(3848),s=r(4006),h=r(263),v=r(945),C=r(4649),P=r(1645),x=r(7392),Z=r(4859),l=r(9549),A=r(4144);function y(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0442\u0435\u043a\u0443\u0449\u0430\u0442\u0430 \u043f\u0430\u0440\u043e\u043b\u0430. "),e.qZA())}function F(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u043d\u043e\u0432\u0430\u0442\u0430 \u043f\u0430\u0440\u043e\u043b\u0430 "),e.qZA())}function T(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u043d\u043e\u0432\u0430\u0442\u0430 \u043f\u0430\u0440\u043e\u043b\u0430 \u043e\u0442\u043d\u043e\u0432\u043e "),e.qZA())}let E=(()=>{class t{constructor(u,o,i,D){this.authService=u,this.logger=o,this.spinnerService=i,this.notificationService=D,this.hideCurrentPassword=!0,this.hideNewPassword=!0}ngOnInit(){this.form=new s.nJ({currentPassword:new s.p4("",s.kI.required),newPassword:new s.p4("",s.kI.required),newPasswordConfirm:new s.p4("",s.kI.required)}),this.form.get("currentPassword")?.valueChanges.subscribe(u=>{this.currentPassword=u}),this.form.get("newPassword")?.valueChanges.subscribe(u=>{this.newPassword=u}),this.form.get("newPasswordConfirm")?.valueChanges.subscribe(u=>{this.newPasswordConfirm=u}),this.spinnerService.visibility.subscribe(u=>{this.disableSubmit=u})}changePassword(){if(this.newPassword!==this.newPasswordConfirm)return void this.notificationService.openSnackBar("\u041d\u043e\u0432\u0430\u0442\u0430 \u043f\u0430\u0440\u043e\u043b\u0430 \u043d\u0435 \u0441\u044a\u0432\u043f\u0430\u0434\u0430.");const u=this.authService.getCurrentUser().email;this.authService.changePassword(u,this.currentPassword,this.newPassword).subscribe(o=>{this.logger.info(`User ${u} changed password.`),this.form.reset(),this.notificationService.openSnackBar("\u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043c\u0435\u043d\u0435\u043d\u0430."),this.authService.logout()},o=>{this.notificationService.openSnackBar(o.error)})}}return t.\u0275fac=function(u){return new(u||t)(e.Y36(h.$),e.Y36(v.Kf),e.Y36(C.V),e.Y36(P.g))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-change-password"]],decls:22,vars:11,consts:[[3,"formGroup"],["fxLayout","row"],["fxFlex","40%","fxFlex.md","60%","fxFlex.sm","50%","fxFlex.xs","100%"],[1,"full-width"],["matInput","","placeholder","\u0422\u0435\u043a\u0443\u0449\u0430 \u043f\u0430\u0440\u043e\u043b\u0430","formControlName","currentPassword","autocomplete","current-password",3,"type"],["matSuffix","",3,"click"],[4,"ngIf"],["matInput","","placeholder","\u041d\u043e\u0432\u0430 \u043f\u0430\u0440\u043e\u043b\u0430","formControlName","newPassword","autocomplete","new-password",3,"type"],["matInput","","placeholder","\u041f\u043e\u0442\u044a\u0432\u0440\u0434\u0435\u0442\u0435 \u043d\u043e\u0432\u0430\u0442\u0430 \u043f\u0430\u0440\u043e\u043b\u0430","formControlName","newPasswordConfirm","autocomplete","new-password",3,"type"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(u,o){1&u&&(e.TgZ(0,"form",0)(1,"p"),e._uU(2,"\u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u0439\u0442\u0435 \u0444\u043e\u0440\u043c\u0430\u0442\u0430 \u043f\u043e-\u0434\u043e\u043b\u0443 \u0437\u0430 \u0434\u0430 \u0441\u043c\u0435\u043d\u0438\u0442\u0435 \u0432\u0430\u0448\u0430\u0442\u0430 \u043f\u0430\u0440\u043e\u043b\u0430."),e.qZA(),e.TgZ(3,"div",1)(4,"div",2)(5,"mat-form-field",3),e._UZ(6,"input",4),e.TgZ(7,"mat-icon",5),e.NdJ("click",function(){return o.hideCurrentPassword=!o.hideCurrentPassword}),e._uU(8),e.qZA(),e.YNc(9,y,2,0,"mat-error",6),e.qZA(),e.TgZ(10,"mat-form-field",3),e._UZ(11,"input",7),e.TgZ(12,"mat-icon",5),e.NdJ("click",function(){return o.hideNewPassword=!o.hideNewPassword}),e._uU(13),e.qZA(),e.YNc(14,F,2,0,"mat-error",6),e.qZA(),e.TgZ(15,"mat-form-field",3),e._UZ(16,"input",8),e.TgZ(17,"mat-icon",5),e.NdJ("click",function(){return o.hideNewPassword=!o.hideNewPassword}),e._uU(18),e.qZA(),e.YNc(19,T,2,0,"mat-error",6),e.qZA(),e.TgZ(20,"button",9),e.NdJ("click",function(){return o.changePassword()}),e._uU(21," \u0417\u0430\u043f\u0430\u0437\u0438 "),e.qZA()()()()),2&u&&(e.Q6J("formGroup",o.form),e.xp6(6),e.Q6J("type",o.hideCurrentPassword?"password":"text"),e.xp6(2),e.hij(" ",o.hideCurrentPassword?"visibility":"visibility_off"," "),e.xp6(1),e.Q6J("ngIf",o.form.controls.currentPassword.hasError("required")),e.xp6(2),e.Q6J("type",o.hideNewPassword?"password":"text"),e.xp6(2),e.hij(" ",o.hideNewPassword?"visibility":"visibility_off"," "),e.xp6(1),e.Q6J("ngIf",o.form.controls.newPassword.hasError("required")),e.xp6(2),e.Q6J("type",o.hideNewPassword?"password":"text"),e.xp6(2),e.hij(" ",o.hideNewPassword?"visibility":"visibility_off"," "),e.xp6(1),e.Q6J("ngIf",o.form.controls.newPasswordConfirm.hasError("required")),e.xp6(1),e.Q6J("disabled",o.form.invalid||o.disableSubmit))},dependencies:[d.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,a.xw,a.yH,x.Hw,Z.lW,l.TO,l.KE,l.R9,A.Nt],styles:[".password-rules[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{position:unset!important}.container[_ngcontent-%COMP%]{padding-top:20px}"]}),t})(),N=(()=>{class t{constructor(u){this.authService=u,this.fullName="",this.email="",this.alias=""}ngOnInit(){this.fullName=this.authService.getCurrentUser().fullName,this.email=this.authService.getCurrentUser().email}}return t.\u0275fac=function(u){return new(u||t)(e.Y36(h.$))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-profile-details"]],decls:8,vars:4,consts:[[1,"profile-card"],["src","assets/images/user.png",3,"alt"],[1,"title"]],template:function(u,o){1&u&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"label"),e._uU(5),e.qZA(),e.TgZ(6,"label"),e._uU(7),e.qZA()()),2&u&&(e.xp6(1),e.Q6J("alt",o.fullName),e.xp6(2),e.hij(" ",o.fullName," "),e.xp6(2),e.hij(" ",o.alias," "),e.xp6(2),e.hij(" ",o.email," "))},styles:[".profile-card[_ngcontent-%COMP%]{text-align:center}"]}),t})();const U=[{path:"",component:g.$,children:[{path:"profile",component:(()=>{class t{constructor(u){this.titleService=u}ngOnInit(){this.titleService.setTitle("angular-material-template - Account")}}return t.\u0275fac=function(u){return new(u||t)(e.Y36(w.Dx))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-account-page"]],decls:14,vars:0,consts:[["fxLayout","row","fxLayoutAlign","center none",1,"container"],["fxFlex","95%"],["fxLayout","row","fxLayout.sm","column","fxLayout.xs","column"],["fxFlex","30%","fxFlex.sm","95%","fxFlex.xs","95%"],["fxFlex",""],["fxFlex","65%","fxFlex.sm","95%","fxFlex.xs","950%"],["label","\u0421\u043c\u044f\u043d\u0430 \u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430"]],template:function(u,o){1&u&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card")(3,"mat-card-content")(4,"h2"),e._uU(5,"\u041f\u0440\u043e\u0444\u0438\u043b"),e.qZA(),e.TgZ(6,"div",2)(7,"div",3),e._UZ(8,"app-profile-details"),e.qZA(),e._UZ(9,"div",4),e.TgZ(10,"div",5)(11,"mat-tab-group")(12,"mat-tab",6),e._UZ(13,"app-change-password"),e.qZA()()()()()()()())},dependencies:[a.xw,a.Wh,a.yH,f.a8,f.dn,p.SP,p.uX,E,N]}),t})()}]}];let J=(()=>{class t{}return t.\u0275fac=function(u){return new(u||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.Bz.forChild(U),m.Bz]}),t})();var B=r(3927);let b=(()=>{class t{}return t.\u0275fac=function(u){return new(u||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.ez,B.m,J]}),t})()}}]);