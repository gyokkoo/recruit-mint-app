<div class="container login-container" fxLayout="row" fxLayoutAlign="center center">
   <form [formGroup]="loginForm" fxFlex="30%" fxFlex.sm="50%" fxFlex.xs="90%">
      <mat-card>
         <mat-card-title>Recruit Mint</mat-card-title>
         <mat-card-subtitle>Регистрация в системата</mat-card-subtitle>
         <mat-card-content>
            <mat-form-field class="full-width">
               <input
                  id="emailInput"
                  matInput
                  placeholder="Имейл"
                  formControlName="email"
                  autocomplete="email"
                  type="email"
               />

               <mat-error
                  id="invalidEmailError"
                  *ngIf="loginForm.controls['email'].hasError('email')"
               >
                  Моля въведете валиден имейл адрес
               </mat-error>
               <mat-error
                  id="requiredEmailError"
                  *ngIf="loginForm.controls['email'].hasError('required')"
               >
                  <span>Имейлът е <strong>задължително</strong> поле</span>
               </mat-error>
            </mat-form-field>

            <mat-form-field class="full-width">
               <input
                  id="passwordInput"
                  matInput
                  placeholder="Парола"
                  formControlName="password"
                  [type]="hideNewPassword ? 'password' : 'text'"
                  autocomplete="current-password"
               />
               <mat-icon
                  id="togglePasswordVisibility"
                  matSuffix
                  (click)="hideNewPassword = !hideNewPassword"
               >
                  {{ hideNewPassword ? 'visibility' : 'visibility_off' }}
               </mat-icon>

               <mat-error
                  id="requiredPasswordError"
                  *ngIf="loginForm.controls['password'].hasError('required')"
               >
                  <span>Паролата е <strong>задължително</strong> поле</span>
               </mat-error>
            </mat-form-field>

            <mat-form-field class="full-width">
               <input
                  id="passwordConfirmInput"
                  matInput
                  placeholder="Потвърждаване на парола"
                  formControlName="passwordConfirm"
                  [type]="hideNewPasswordConfirm ? 'password' : 'text'"
                  autocomplete="new-password"
               />
               <mat-icon
                  id="togglePasswordConfirmVisibility"
                  matSuffix
                  (click)="hideNewPasswordConfirm = !hideNewPasswordConfirm"
               >
                  {{ hideNewPasswordConfirm ? 'visibility' : 'visibility_off' }}
               </mat-icon>

               <mat-error *ngIf="loginForm.controls['passwordConfirm'].hasError('required')">
                  Паролата е <strong>задължително</strong> поле
               </mat-error>
            </mat-form-field>

            <!--            <mat-form-field class="full-width">-->
            <!--               <input-->
            <!--                  id="phoneInput"-->
            <!--                  matInput-->
            <!--                  placeholder="Телефон за връзка"-->
            <!--                  formControlName="phone"-->
            <!--                  type="text"-->
            <!--               />-->
            <!--            </mat-form-field>-->
         </mat-card-content>

         <mat-card-actions class="login-actions">
            <button
               mat-raised-button
               id="register"
               color="primary"
               [disabled]="loginForm.invalid || loading"
               (click)="register()"
            >
               Регистрация
            </button>
            <button mat-button id="resetPassword" (click)="navigateToLoginPage()" type="button">
               Вход
            </button>
         </mat-card-actions>
      </mat-card>

      <mat-progress-bar *ngIf="loading" mode="indeterminate"></mat-progress-bar>
   </form>
</div>
